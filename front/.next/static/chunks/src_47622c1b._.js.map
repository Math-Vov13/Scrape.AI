{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/clement/Desktop/Github/Mistral-copie/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/clement/Desktop/Github/Mistral-copie/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,wEACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,qKAAA,CAAA,WAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///Users/clement/Desktop/Github/Mistral-copie/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/clement/Desktop/Github/Mistral-copie/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2WACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///Users/clement/Desktop/Github/Mistral-copie/src/components/TypeWriter.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\n\ninterface TypeWriterProps {\n  text: string;\n  delay?: number;\n  minDelay?: number;\n  maxDelay?: number;\n  onComplete?: () => void;\n}\n\nexport default function TypeWriter({ \n  text, \n  delay = 0, \n  minDelay = 15,\n  maxDelay = 35,\n  onComplete \n}: TypeWriterProps) {\n  const [displayedText, setDisplayedText] = useState(\"\");\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const isCompleted = useRef(false);\n\n  useEffect(() => {\n    // Reset when text changes\n    setDisplayedText(\"\");\n    setCurrentIndex(0);\n    isCompleted.current = false;\n  }, [text]);\n\n  useEffect(() => {\n    if (currentIndex < text.length) {\n      // Calculate dynamic delay\n      let currentDelay = delay;\n      \n      // If no fixed delay is provided, use random delay within range\n      if (delay === 0) {\n        // Add longer pauses at periods, commas, and sentence endings\n        if (currentIndex > 0 && ['.', '!', '?'].includes(text[currentIndex - 1]) && text[currentIndex] === ' ') {\n          currentDelay = 300; // Pause longer at end of sentences\n        } else if (currentIndex > 0 && [',', ';', ':'].includes(text[currentIndex - 1])) {\n          currentDelay = 150; // Pause a bit at commas and other punctuation\n        } else {\n          // Random typing speed for natural effect\n          currentDelay = Math.floor(Math.random() * (maxDelay - minDelay + 1) + minDelay);\n        }\n      }\n      \n      const timeout = setTimeout(() => {\n        setDisplayedText(prev => prev + text[currentIndex]);\n        setCurrentIndex(prevIndex => prevIndex + 1);\n      }, currentDelay);\n      \n      return () => clearTimeout(timeout);\n    } else if (!isCompleted.current) {\n      isCompleted.current = true;\n      onComplete?.();\n    }\n  }, [currentIndex, delay, minDelay, maxDelay, text, onComplete]);\n\n  return <>{displayedText}</>;\n}\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAYe,SAAS,WAAW,EACjC,IAAI,EACJ,QAAQ,CAAC,EACT,WAAW,EAAE,EACb,WAAW,EAAE,EACb,UAAU,EACM;;IAChB,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAE3B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,0BAA0B;YAC1B,iBAAiB;YACjB,gBAAgB;YAChB,YAAY,OAAO,GAAG;QACxB;+BAAG;QAAC;KAAK;IAET,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,IAAI,eAAe,KAAK,MAAM,EAAE;gBAC9B,0BAA0B;gBAC1B,IAAI,eAAe;gBAEnB,+DAA+D;gBAC/D,IAAI,UAAU,GAAG;oBACf,6DAA6D;oBAC7D,IAAI,eAAe,KAAK;wBAAC;wBAAK;wBAAK;qBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,KAAK,IAAI,CAAC,aAAa,KAAK,KAAK;wBACtG,eAAe,KAAK,mCAAmC;oBACzD,OAAO,IAAI,eAAe,KAAK;wBAAC;wBAAK;wBAAK;qBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,GAAG;wBAC/E,eAAe,KAAK,8CAA8C;oBACpE,OAAO;wBACL,yCAAyC;wBACzC,eAAe,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,WAAW,WAAW,CAAC,IAAI;oBACxE;gBACF;gBAEA,MAAM,UAAU;oDAAW;wBACzB;4DAAiB,CAAA,OAAQ,OAAO,IAAI,CAAC,aAAa;;wBAClD;4DAAgB,CAAA,YAAa,YAAY;;oBAC3C;mDAAG;gBAEH;4CAAO,IAAM,aAAa;;YAC5B,OAAO,IAAI,CAAC,YAAY,OAAO,EAAE;gBAC/B,YAAY,OAAO,GAAG;gBACtB;YACF;QACF;+BAAG;QAAC;QAAc;QAAO;QAAU;QAAU;QAAM;KAAW;IAE9D,qBAAO;kBAAG;;AACZ;GAjDwB;KAAA","debugId":null}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["file:///Users/clement/Desktop/Github/Mistral-copie/src/components/WaitingIndicator.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { AlertCircle } from \"lucide-react\";\n\ninterface WaitingIndicatorProps {\n  isAiResponding: boolean;\n}\n\nexport default function WaitingIndicator({ isAiResponding }: WaitingIndicatorProps) {\n  const [showAnimation, setShowAnimation] = useState(false);\n  const [showWarning, setShowWarning] = useState(false);\n  \n  // Show animation when AI starts responding\n  useEffect(() => {\n    if (isAiResponding) {\n      setShowAnimation(true);\n    } else {\n      // Delay hiding the animation to give user time to notice transition\n      const timer = setTimeout(() => {\n        setShowAnimation(false);\n      }, 500);\n      return () => clearTimeout(timer);\n    }\n  }, [isAiResponding]);\n  \n  // When user tries to type or click while AI is responding\n  useEffect(() => {\n    const handleEvents = () => {\n      if (isAiResponding) {\n        setShowWarning(true);\n        setTimeout(() => setShowWarning(false), 2000);\n      }\n    };\n    \n    // Show warning when user clicks or presses keys while AI is responding\n    if (isAiResponding) {\n      window.addEventListener(\"click\", handleEvents);\n      window.addEventListener(\"keydown\", handleEvents);\n      \n      return () => {\n        window.removeEventListener(\"click\", handleEvents);\n        window.removeEventListener(\"keydown\", handleEvents);\n      };\n    }\n  }, [isAiResponding]);\n\n  if (!showAnimation && !showWarning) return null;\n  \n  return (\n    <div \n      className={`absolute bottom-20 left-1/2 transform -translate-x-1/2 px-4 py-2 rounded-full flex items-center gap-2 text-sm shadow-md z-10 transition-all duration-300 ${\n        showWarning \n          ? 'bg-amber-500 text-white motion-safe:animate-[shake_0.5s_linear]' \n          : 'bg-secondary text-secondary-foreground animate-pulse'\n      }`}\n    >\n      <AlertCircle className=\"h-4 w-4\" />\n      <span>{showWarning ? \"Veuillez attendre la fin de la réponse\" : \"Attendez la réponse complète...\"}</span>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AASe,SAAS,iBAAiB,EAAE,cAAc,EAAyB;;IAChF,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,2CAA2C;IAC3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;sCAAE;YACR,IAAI,gBAAgB;gBAClB,iBAAiB;YACnB,OAAO;gBACL,oEAAoE;gBACpE,MAAM,QAAQ;wDAAW;wBACvB,iBAAiB;oBACnB;uDAAG;gBACH;kDAAO,IAAM,aAAa;;YAC5B;QACF;qCAAG;QAAC;KAAe;IAEnB,0DAA0D;IAC1D,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;sCAAE;YACR,MAAM;2DAAe;oBACnB,IAAI,gBAAgB;wBAClB,eAAe;wBACf;uEAAW,IAAM,eAAe;sEAAQ;oBAC1C;gBACF;;YAEA,uEAAuE;YACvE,IAAI,gBAAgB;gBAClB,OAAO,gBAAgB,CAAC,SAAS;gBACjC,OAAO,gBAAgB,CAAC,WAAW;gBAEnC;kDAAO;wBACL,OAAO,mBAAmB,CAAC,SAAS;wBACpC,OAAO,mBAAmB,CAAC,WAAW;oBACxC;;YACF;QACF;qCAAG;QAAC;KAAe;IAEnB,IAAI,CAAC,iBAAiB,CAAC,aAAa,OAAO;IAE3C,qBACE,6LAAC;QACC,WAAW,CAAC,yJAAyJ,EACnK,cACI,oEACA,wDACJ;;0BAEF,6LAAC,uNAAA,CAAA,cAAW;gBAAC,WAAU;;;;;;0BACvB,6LAAC;0BAAM,cAAc,2CAA2C;;;;;;;;;;;;AAGtE;GApDwB;KAAA","debugId":null}},
    {"offset": {"line": 386, "column": 0}, "map": {"version":3,"sources":["file:///Users/clement/Desktop/Github/Mistral-copie/src/components/Toast.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\n\ninterface ToastProps {\n  show: boolean;\n  message: string;\n  type?: \"info\" | \"success\" | \"warning\" | \"error\";\n  duration?: number;\n  onClose?: () => void;\n}\n\nexport default function Toast({ \n  show, \n  message, \n  type = \"info\", \n  duration = 3000, \n  onClose \n}: ToastProps) {\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    if (show) {\n      setIsVisible(true);\n      \n      const timer = setTimeout(() => {\n        setIsVisible(false);\n        onClose?.();\n      }, duration);\n      \n      return () => clearTimeout(timer);\n    } else {\n      // Handle case when show prop changes from true to false\n      setIsVisible(false);\n    }\n  }, [show, duration, onClose]);\n\n  if (!isVisible) return null;\n\n  const getToastClasses = () => {\n    let baseClasses = \"fixed bottom-4 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300\";\n    \n    switch (type) {\n      case \"success\":\n        return `${baseClasses} bg-green-600 text-white`;\n      case \"warning\":\n        return `${baseClasses} bg-amber-500 text-white`;\n      case \"error\":\n        return `${baseClasses} bg-red-600 text-white`;\n      default:\n        return `${baseClasses} bg-primary text-primary-foreground`;\n    }\n  };\n\n  return (\n    <div className={getToastClasses()}>\n      {message}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAYe,SAAS,MAAM,EAC5B,IAAI,EACJ,OAAO,EACP,OAAO,MAAM,EACb,WAAW,IAAI,EACf,OAAO,EACI;;IACX,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;2BAAE;YACR,IAAI,MAAM;gBACR,aAAa;gBAEb,MAAM,QAAQ;6CAAW;wBACvB,aAAa;wBACb;oBACF;4CAAG;gBAEH;uCAAO,IAAM,aAAa;;YAC5B,OAAO;gBACL,wDAAwD;gBACxD,aAAa;YACf;QACF;0BAAG;QAAC;QAAM;QAAU;KAAQ;IAE5B,IAAI,CAAC,WAAW,OAAO;IAEvB,MAAM,kBAAkB;QACtB,IAAI,cAAc;QAElB,OAAQ;YACN,KAAK;gBACH,OAAO,GAAG,YAAY,wBAAwB,CAAC;YACjD,KAAK;gBACH,OAAO,GAAG,YAAY,wBAAwB,CAAC;YACjD,KAAK;gBACH,OAAO,GAAG,YAAY,sBAAsB,CAAC;YAC/C;gBACE,OAAO,GAAG,YAAY,mCAAmC,CAAC;QAC9D;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW;kBACb;;;;;;AAGP;GA/CwB;KAAA","debugId":null}},
    {"offset": {"line": 457, "column": 0}, "map": {"version":3,"sources":["file:///Users/clement/Desktop/Github/Mistral-copie/src/lib/demoResponses.ts"],"sourcesContent":["// Sample AI responses for demonstration\nexport const demoResponses = [\n  \"Hello! I'm a chat assistant. How can I help you today?\",\n  \"That's a great question. Let me provide a detailed answer. The key aspect to consider is that progressive text streaming gives users immediate feedback that their request is being processed, rather than making them wait for the complete response to appear all at once.\",\n  \"I'd be happy to help with that. Streaming text, like you're seeing right now, creates a more engaging conversation experience because it mimics how humans communicate - we don't deliver our thoughts all at once, but rather word by word.\",\n  \"Looking at your code, I can see several ways we could optimize it. First, we should consider the performance implications. Second, let's think about user experience and accessibility. And third, we need to ensure our implementation is maintainable for future developers.\",\n  \"In summary, text streaming creates a more dynamic and interactive feel to conversations with AI assistants. It helps users feel more engaged as they can start processing the response while it's still being generated, rather than waiting for a complete answer to appear all at once.\"\n];\n"],"names":[],"mappings":"AAAA,wCAAwC;;;;AACjC,MAAM,gBAAgB;IAC3B;IACA;IACA;IACA;IACA;CACD","debugId":null}},
    {"offset": {"line": 477, "column": 0}, "map": {"version":3,"sources":["file:///Users/clement/Desktop/Github/Mistral-copie/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { Avatar } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { ThumbsUp, ThumbsDown, RefreshCw, Copy, Plus, Send, Star, Settings } from \"lucide-react\";\nimport TypeWriter from \"@/components/TypeWriter\";\nimport WaitingIndicator from \"@/components/WaitingIndicator\";\nimport Toast from \"@/components/Toast\";\nimport { demoResponses } from \"@/lib/demoResponses\";\n\ninterface Message {\n  id: string;\n  content: string;\n  isUser: boolean;\n  timestamp: string;\n  isStreaming?: boolean;\n}\n\nexport default function Home() {\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      id: \"1\",\n      content: \"Hello! How can I assist you today?\",\n      isUser: false,\n      timestamp: \"16:58\",\n    },\n  ]);\n  const [responseIndex, setResponseIndex] = useState(0);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const [isAiResponding, setIsAiResponding] = useState(false);\n  const [showToast, setShowToast] = useState(false);\n  const [consecutiveMessages, setConsecutiveMessages] = useState(0);\n  const chatContainerRef = useRef<HTMLDivElement>(null);\n\n  // Auto-scroll to bottom when messages change\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  const handleSendMessage = () => {\n    if (!inputValue.trim() || isAiResponding) return;\n\n    // Only increment counter if AI is not currently responding\n    // This ensures we're only counting consecutive messages without AI responses\n    if (!isAiResponding) {\n      const newConsecutiveCount = consecutiveMessages + 1;\n      setConsecutiveMessages(newConsecutiveCount);\n\n      // If user tries to send too many messages without waiting for responses\n      if (newConsecutiveCount > 3) {\n        setShowToast(true);\n        return; // Don't send the message\n      }\n    }\n\n    // Create a new user message\n    const newMessage: Message = {\n      id: Date.now().toString(),\n      content: inputValue,\n      isUser: true,\n      timestamp: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),\n    };\n\n    setMessages((prev) => [...prev, newMessage]);\n    setInputValue(\"\");\n    setIsTyping(true);\n    setIsAiResponding(true); // Mark that AI is responding\n\n    // Simulate AI response after a delay\n    setTimeout(() => {\n      // Get the next demo response or loop back to the beginning\n      const responseContent = demoResponses[responseIndex % demoResponses.length];\n      setResponseIndex(prevIndex => prevIndex + 1);\n      \n      const aiResponse: Message = {\n        id: (Date.now() + 1).toString(),\n        content: responseContent,\n        isUser: false,\n        timestamp: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),\n        isStreaming: true, // Mark as streaming initially\n      };\n\n      setMessages((prev) => [...prev, aiResponse]);\n      setIsTyping(false);\n      \n      // We keep the streaming state active until the typewriter effect completes\n    }, 1500);\n  };\n\n  return (\n    <div className=\"flex flex-col h-screen bg-background relative\">\n      <WaitingIndicator isAiResponding={isAiResponding} />\n      <Toast \n        show={showToast} \n        message={consecutiveMessages > 3 \n          ? \"Veuillez attendre la réponse avant d'envoyer d'autres messages.\" \n          : isAiResponding \n            ? \"Message envoyé. Veuillez attendre la réponse...\"\n            : \"Vous pouvez maintenant poser une nouvelle question.\"\n        }\n        type={consecutiveMessages > 3 ? \"warning\" : isAiResponding ? \"info\" : \"success\"}\n        duration={2500}\n        onClose={() => setShowToast(false)}\n      />\n      {/* Admin button */}\n      <header className=\"p-4 flex items-center border-b border-border\">\n        <div className=\"flex space-x-2\">\n          <button className=\"p-2 hover:bg-secondary rounded-full\">\n            <Plus className=\"h-5 w-5\" />\n          </button>\n          <button className=\"p-2 hover:bg-secondary rounded-full\">\n            <Star className=\"h-5 w-5\" />\n          </button>\n        </div>\n        \n        {/* Status indicator */}\n        {isAiResponding && (\n          <div className=\"flex items-center mx-auto space-x-2 bg-secondary/30 px-3 py-1 rounded-full\">\n            <div className=\"h-2 w-2 rounded-full bg-amber-500 animate-pulse\"></div>\n            <span className=\"text-xs font-medium\">IA en cours de réponse...</span>\n          </div>\n        )}\n        \n        <button className=\"ml-auto p-2 hover:bg-secondary rounded-full\">\n          <Settings className=\"h-5 w-5\" />\n        </button>\n      </header>\n\n      {/* Chat container */}\n      <div\n        ref={chatContainerRef}\n        className=\"flex-1 overflow-auto p-4 space-y-6\"\n      >\n        {messages.map((message) => (\n          <div key={message.id} className={`flex ${message.isUser ? 'justify-end' : 'justify-start'}`}>\n            <div className={`${message.isUser ? 'chat-message-user' : 'chat-message-ai'}`}>\n              {!message.isUser && (\n                <div className=\"flex-shrink-0\">\n                  <Avatar className=\"h-8 w-8 bg-primary text-primary-foreground\" />\n                </div>\n              )}\n              <div className=\"flex flex-col\">\n                <div className={`text-sm ${!message.isUser && message.isStreaming ? 'streaming-cursor' : ''}`}>\n                  {!message.isUser && message.isStreaming ? (\n                    <TypeWriter \n                      text={message.content} \n                      onComplete={() => {\n                        setMessages(prevMessages => \n                          prevMessages.map(msg => \n                            msg.id === message.id \n                              ? { ...msg, isStreaming: false } \n                              : msg\n                          )\n                        );\n                        setIsAiResponding(false); // AI has finished responding\n                        setShowToast(true); // Show toast notification\n                        setConsecutiveMessages(0); // Reset consecutive messages counter\n                      }} \n                    />\n                  ) : (\n                    message.content\n                  )}\n                </div>\n               </div>\n             </div>\n           </div>\n         ))}\n\n         {isTyping && (\n           <div className=\"flex justify-start\">\n            <div className=\"chat-message-ai items-center\">\n               <Avatar className=\"h-8 w-8 bg-primary text-primary-foreground\">\n              </Avatar>\n               <div className=\"flex items-center space-x-1\">\n                 <div className=\"h-2 w-2 bg-foreground/70 rounded-full animate-pulse\"></div>\n                 <div className=\"h-2 w-2 bg-foreground/70 rounded-full animate-pulse delay-150\"></div>\n                 <div className=\"h-2 w-2 bg-foreground/70 rounded-full animate-pulse delay-300\"></div>\n               </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Input area */}\n      <div className=\"p-4 border-t border-border\">\n         <div className=\"flex items-center space-x-2 max-w-3xl mx-auto\">\n           <Input\n            value={inputValue}\n            onChange={(e) => !isAiResponding && setInputValue(e.target.value)}\n            onKeyDown={(e) => e.key === 'Enter' && !isAiResponding && handleSendMessage()}\n            placeholder={isAiResponding ? \"Attendez la réponse complète...\" : \"Posez une question...\"}\n            disabled={isAiResponding}\n            className={`chat-input transition-all duration-300 ${\n              isAiResponding \n                ? 'opacity-70 border-amber-500 bg-secondary/30 text-muted-foreground cursor-not-allowed' \n                : 'focus:border-primary'\n            }`}\n          />\n          <Button\n            onClick={handleSendMessage}\n            disabled={!inputValue.trim() || isAiResponding}\n            className=\"rounded-full p-2 h-10 w-10 flex items-center justify-center transition-all duration-300\"\n            variant={inputValue.trim() && !isAiResponding ? \"default\" : \"secondary\"}\n          >\n            <Send className={`h-5 w-5 ${isAiResponding ? 'opacity-50' : ''}`} />\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}